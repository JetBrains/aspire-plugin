<idea-plugin>
    <dependencies>
        <module name="intellij.aspire.core"/>
        <plugin id="com.intellij.modules.rider"/>
    </dependencies>

    <resource-bundle>messages.AspireRiderBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">
        <programRunner
                implementation="com.jetbrains.aspire.rider.sessions.projectLaunchers.DotNetSessionProgramRunner"/>
        <programRunner
                implementation="com.jetbrains.aspire.rider.sessions.projectLaunchers.DotNetSessionDebugProgramRunner"/>
        <programRunner
                implementation="com.jetbrains.aspire.rider.sessions.wasmHost.WasmHostProjectSessionDebugProgramRunner"/>

        <rd.solutionExtListener endpoint="IDE Frontend"
                                listener="com.jetbrains.aspire.rider.unitTests.AspireUnitTestProtocolListener"/>
    </extensions>

    <extensions defaultExtensionNs="com.jetbrains.aspire">
        <dotnetSessionProcessLauncherExtension
                implementation="com.jetbrains.aspire.rider.sessions.wasmHost.WasmHostProjectSessionProcessLauncher"/>
        <dotnetSessionProcessLauncherExtension
                implementation="com.jetbrains.aspire.rider.sessions.dotnetProject.DotNetProjectSessionProcessLauncher"/>
        <dotnetSessionProcessLauncherExtension
                implementation="com.jetbrains.aspire.rider.sessions.executableLibrary.ExecutableLibrarySessionProcessLauncher"/>

    </extensions>

    <actions>
        <action id="Aspire.AddToSolution"
                class="com.jetbrains.aspire.rider.actions.AddAspireToSolutionAction"
                icon="RiderIcons.Templates.TemplateAspire">
            <add-to-group group-id="SolutionViewAddGroup.SolutionSection" relative-to-action="NewRiderSolutionFolder"
                          anchor="after"/>
        </action>
        <action id="Aspire.AddToProject"
                class="com.jetbrains.aspire.rider.actions.AddAspireToProjectAction"
                icon="RiderIcons.Templates.TemplateAspire">
        </action>
        <action id="Aspire.Resource.Attach"
                class="com.jetbrains.aspire.rider.actions.dashboard.resource.AttachToProjectResourceAction"
                icon="AllIcons.Debugger.AttachToProcess">
            <add-to-group group-id="Aspire.Resource" relative-to-action="Aspire.Resource.RestartWithDebugger"
                          anchor="after"/>
        </action>
    </actions>

</idea-plugin>